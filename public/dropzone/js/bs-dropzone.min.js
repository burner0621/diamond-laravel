"use strict";jQuery.fn.extend({bs_dropzone:function(e){let o,t,s,a,r,l,n,i,p,d,c,g,h,b;d={preview:!1,allowed:["jpg","jpeg","png","bmp","webp","jfif","svg","ico","gif"],accepted:[],dropzoneTemplate:'<div class="bs-dropzone"><div class="bs-dropzone-area"></div><div class="bs-dropzone-message"></div><div class="bs-dropzone-preview"></div></div>',parentTemplate:'<div class="row"></div>',childTemplate:'<div class="col"></div>',boxClass:"alert text-center",imageClass:"img-fluid",noneColorClass:"alert-info",dragColorClass:"alert-warning",doneColorClass:"alert-success",failColorClass:"alert-danger",language:{emptyText:"[Drop File Here or Click To Upload]",dragText:"[Drop File Here]",dropText:"[_t_ File(s)]"},change:function(){}},e=$.extend({},d,e),o=this,this.each(function(o){null==(t=$(this)).attr("accept")&&e.accepted.length>0&&t.attr("accept","."+e.accepted.join(", .")),t.after(e.dropzoneTemplate),t.appendTo(t.next().find(".bs-dropzone-area")),(s=$("<div></div>")).attr("class","bs-dropzone-box "+e.boxClass+" "+e.noneColorClass).text(e.language.emptyText),t.before(s),t.on("dragover",function(){$(this).prev().attr("class","bs-dropzone-box "+e.boxClass+" "+e.dragColorClass).text(e.language.dragText)}).on("dragleave drop",function(){r=$(this),c=this.files,r.prev().attr("class","bs-dropzone-box "+e.boxClass+" "+e.noneColorClass).text(c.length>0?e.language.dropText.replace(/_t_/g,c.length):e.language.emptyText),r.trigger("blur")}).on("change",function(){(r=$(this)).trigger("preview"),r.trigger("blur"),e.change.call(this,r,this.files)}).on("preview",function(){r=$(this),a=r.prev(),(l=r.closest(".bs-dropzone").find(".bs-dropzone-preview")).empty(),c=this.files,g=!1,c.length>0?(e.preview&&(n=$(e.parentTemplate),$.each(c,function(o){b=(b=c[o].name.match(/\.[0-9a-z]+$/i))?b[0].split(".").pop().toLowerCase():null,$.inArray(b,e.allowed)+1>0&&((h=new FileReader).onload=function(o){p=$('<img src="'+o.target.result+'" class="'+e.imageClass+'">'),(i=p.wrap(e.childTemplate).parent()).appendTo(n)},h.readAsDataURL(this),g=!0)}),g&&(n.appendTo(l),l.show())),a.text(e.language.dropText.replace(/_t_/g,c.length))):(l.hide(),a.text(e.language.emptyText))}).on("clear",function(){r=$(this),a=r.prev(),l=r.closest(".bs-dropzone").find(".bs-dropzone-preview"),a.attr("class","bs-dropzone-box "+e.boxClass+" "+e.noneColorClass).text(e.language.emptyText),l.empty(),l.hide()}).on("validation",function(o,t){r=$(this),a=r.prev(),l=r.closest(".bs-dropzone").find(".bs-dropzone-preview"),t?a.attr("class","bs-dropzone-box "+e.boxClass+" "+e.doneColorClass):(a.attr("class","bs-dropzone-box "+e.boxClass+" "+e.failColorClass),l.hide()),r.css("height",a.outerHeight())}),t.closest("form").on("reset",function(){$(this).find(":file").each(function(){$(this).trigger("clear")})})})}});
